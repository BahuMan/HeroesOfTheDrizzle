using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Invulnerability : UntargettedAbility
{
    [SerializeField]
    GameObject InvulnerabilitySphere;

    override public void AbilityStartEffect()
    {
        InvulnerabilitySphere.SetActive(true);
    }

    protected override void UpdateEffect()
    {
        base.UpdateEffect();
        float healthDifference = _hero.GetMaxHealth() - _hero.GetCurrentHealth();
        if (healthDifference > 1f)
        {
            _hero.AwardPoints((int) healthDifference);
            _hero.ReceiveDamage(MOBAUnit.DamageType.MAGIC, -healthDifference);
        }
    }

    public override void DeActivate()
    {
        InvulnerabilitySphere.SetActive(false);
    }
}
